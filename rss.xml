<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>yanglukuan</title>
    <link>http://yoursite.com/</link>
    <atom:link href="/rss.xml" rel="self" type="application/rss+xml"/>
    
    <description>博闻强记</description>
    <pubDate>Thu, 17 Aug 2017 15:00:46 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>git多账号配置</title>
      <link>http://yoursite.com/2017/08/17/git%E5%A4%9A%E8%B4%A6%E5%8F%B7%E9%85%8D%E7%BD%AE/</link>
      <guid>http://yoursite.com/2017/08/17/git%E5%A4%9A%E8%B4%A6%E5%8F%B7%E9%85%8D%E7%BD%AE/</guid>
      <pubDate>Thu, 17 Aug 2017 09:10:22 GMT</pubDate>
      <description>
      
      </description>
      
      <comments>http://yoursite.com/2017/08/17/git%E5%A4%9A%E8%B4%A6%E5%8F%B7%E9%85%8D%E7%BD%AE/#disqus_thread</comments>
    </item>
    
    <item>
      <title>SonarQube 服务搭建与配置</title>
      <link>http://yoursite.com/2017/08/17/sonar%E6%9C%AC%E5%9C%B0%E9%85%8D%E7%BD%AE/</link>
      <guid>http://yoursite.com/2017/08/17/sonar%E6%9C%AC%E5%9C%B0%E9%85%8D%E7%BD%AE/</guid>
      <pubDate>Thu, 17 Aug 2017 09:07:49 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;SonarQube是神马&quot;&gt;&lt;a href=&quot;#SonarQube是神马&quot; class=&quot;headerlink&quot; title=&quot;SonarQube是神马&quot;&gt;&lt;/a&gt;SonarQube是神马&lt;/h2&gt;&lt;p&gt;   1.SonarQube（又叫Sonar）是对代码进行静
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="SonarQube是神马"><a href="#SonarQube是神马" class="headerlink" title="SonarQube是神马"></a>SonarQube是神马</h2><p>   1.SonarQube（又叫Sonar）是对代码进行静态检测的开源平台,利用这个工具可以发现我们代码里各种隐藏的Bug和潜在的问     题，在团队协作的开发模式中可以更好的控制代码质量。<br>   2.支持多种平台（Windows、Linux）和多种开发语言(java、C#、JavaScript、PHP等),并可以和Jekins、JIRA等多种外部工具和IntelliJ IDEA等开发工具无缝集成。<br>   3.可视化界面，提供各种维度的质量查询和分析。</p>
<h2 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h2><p>  <strong>1.准备工作</strong></p>
<ul>
<li>下载软件<br>SonarQube <a href="https://www.sonarqube.org/downloads/" target="_blank" rel="external">https://www.sonarqube.org/downloads/</a><br>规则插件 checkstyle  <a href="https://github.com/checkstyle/sonar-checkstyle" target="_blank" rel="external">https://github.com/checkstyle/sonar-checkstyle</a><br>pmd <a href="https://github.com/SonarQubeCommunity/sonar-pmd" target="_blank" rel="external">https://github.com/SonarQubeCommunity/sonar-pmd</a><br>findbugs <a href="https://github.com/SonarQubeCommunity/sonar-findbugs" target="_blank" rel="external">https://github.com/SonarQubeCommunity/sonar-findbugs</a><br>汉化插件 sonar-l10n-zh-master <a href="https://github.com/SonarQubeCommunity/sonar-l10n-zh" target="_blank" rel="external">https://github.com/SonarQubeCommunity/sonar-l10n-zh</a><br>本地扫描插件 sonar-runner-dist-2.4 <a href="http://repo1.maven.org/maven2/org/codehaus/sonar/runner/sonar-runner-dist/2.4/" target="_blank" rel="external">http://repo1.maven.org/maven2/org/codehaus/sonar/runner/sonar-runner-dist/2.4/</a><br><strong>以上插件均是源码 需要下载后自行编译</strong></li>
<li>所需环境<br>JDK1.7或以上<br>Maven<br>Mysql</li>
<li><p>配置<br>a.sonarqube 配置<br>sonar.properties内容</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sonar.jdbc.username=sonar</div><div class="line">sonar.jdbc.password=sonar</div><div class="line">sonar.jdbc.url=jdbc:mysql://127.0.0.1:3306/sonar?useUnicode=true&amp;characterEncoding=utf8&amp;rewriteBatchedStatements=true&amp;useConfigs=maxPerformance</div></pre></td></tr></table></figure>
<p>b.mysql 配置</p>
<ul>
<li><p>在mysql管理器中执行如下脚本创建数据库及mysql用户  </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> sonar <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 <span class="keyword">COLLATE</span> utf8_general_ci;  </div><div class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'sonar'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'sonar'</span>;</div><div class="line"><span class="keyword">GRANT</span> ALL <span class="keyword">ON</span> sonar.* <span class="keyword">TO</span> <span class="string">'sonar'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'sonar'</span>;</div><div class="line"><span class="keyword">GRANT</span> ALL <span class="keyword">ON</span> sonar.* <span class="keyword">TO</span> <span class="string">'sonar'</span>@<span class="string">'localhost'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'sonar'</span>;</div><div class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>mysql max_allowed_packet配置<br>路径 <code>C:\ProgramData\MySQL\MySQL Server 5.6\my.ini</code><br>设置 <code>max_allowed_packet=101943040</code></p>
</li>
</ul>
</li>
<li>插件编译 安装<br>分别编译下载的插件,去掉snapshort标记,放入插件目录下sonarqube-6.4\extensions\plugins</li>
<li>启动<br>至此,启动mysql,启动sonarqube,本地访问 <code>http://localhost:9000/</code><br>可看到管理界面<br>登录名\密码   admin\admin</li>
</ul>
<p>  <strong>2.扫描配置</strong></p>
<ul>
<li><p>maven扫描 配置<br>maven配置文件添加节点</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">id</span>&gt;</span>sonar<span class="tag">&lt;/<span class="name">id</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">activation</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">properties</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">sonar.jdbc.url</span>&gt;</span></div><div class="line">&lt;![CDATA[jdbc:mysql://127.0.0.1:3306/sonar]]&gt;</div><div class="line">      <span class="tag">&lt;/<span class="name">sonar.jdbc.url</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">sonar.jdbc.driver</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">sonar.jdbc.driver</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">sonar.jdbc.username</span>&gt;</span>sonar<span class="tag">&lt;/<span class="name">sonar.jdbc.username</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">sonar.jdbc.password</span>&gt;</span>sonar<span class="tag">&lt;/<span class="name">sonar.jdbc.password</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">sonar.jdbc.maxWait</span>&gt;</span>50000<span class="tag">&lt;/<span class="name">sonar.jdbc.maxWait</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">sonar.jdbc.minEvictableIdleTimeMillis</span>&gt;</span>600000<span class="tag">&lt;/<span class="name">sonar.jdbc.minEvictableIdleTimeMillis</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">sonar.jdbc.timeBetweenEvictionRunsMillis</span>&gt;</span>30000<span class="tag">&lt;/<span class="name">sonar.jdbc.timeBetweenEvictionRunsMillis</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">sonar.host.url</span>&gt;</span>http://localhost:9000<span class="tag">&lt;/<span class="name">sonar.host.url</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></div></pre></td></tr></table></figure>
<p>执行maven命令<code>`mvn sonar:sonar</code> 可扫描项目并上传质量报告</p>
</li>
<li><p>sonar-runner 扫描配置<br>a.环境变量配置<br>系统环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">SONAR_RUNNER_HOME  D:\Java\sonar-runner-2.4</div><div class="line">Path 追加 ;%SONAR_RUNNER_HOME%\bin;</div></pre></td></tr></table></figure>
<p>b.sonar-runner.properties配置文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">#Configure here general information about the environment, such as SonarQube DB details for example</div><div class="line">#No information about specific project should appear here</div><div class="line">  </div><div class="line">#----- Default SonarQube server</div><div class="line">sonar.host.url=http://localhost:9000</div><div class="line">  </div><div class="line">#----- PostgreSQL</div><div class="line">#sonar.jdbc.url=jdbc:postgresql://localhost/sonar</div><div class="line">  </div><div class="line">#----- MySQL</div><div class="line">sonar.jdbc.url=jdbc:mysql://127.0.0.1:3306/sonar?useUnicode=true&amp;amp;characterEncoding=utf8</div><div class="line">  </div><div class="line">#----- Oracle</div><div class="line">#sonar.jdbc.url=jdbc:oracle:thin:@localhost/XE</div><div class="line">  </div><div class="line">#----- Microsoft SQLServer</div><div class="line">#sonar.jdbc.url=jdbc:jtds:sqlserver://localhost/sonar;SelectMethod=Cursor</div><div class="line">  </div><div class="line">#----- Global database settings</div><div class="line">sonar.jdbc.username=sonar</div><div class="line">sonar.jdbc.password=sonar</div><div class="line">  </div><div class="line">#----- Default source code encoding</div><div class="line">sonar.sourceEncoding=UTF-8</div><div class="line">  </div><div class="line">#----- Security (when 'sonar.forceAuthentication' is set to 'true')</div><div class="line">sonar.login=admin</div><div class="line">sonar.password=admin</div></pre></td></tr></table></figure>
<p>c、本地项目配置文件  项目根目录<br>sonar-project.properties配置文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">sonar.projectKey=online </div><div class="line">sonar.projectName=online</div><div class="line">sonar.projectVersion=1.0</div><div class="line"># Set modules IDs</div><div class="line">sonar.modules=projectmodules</div><div class="line"></div><div class="line"># Modules inherit properties set at parent level</div><div class="line">sonar.sources=src</div><div class="line">sonar.sourceEncoding=UTF-8</div><div class="line">sonar.language=java</div><div class="line">sonar.java.binaries=target</div><div class="line"># By default, the base directory for a module is <span class="tag">&lt;<span class="name">current_dir</span>&gt;</span>/<span class="tag">&lt;<span class="name">module_ID</span>&gt;</span>.</div></pre></td></tr></table></figure>
<p>至此  使用命令行进入到项目根目录<br>输入命令 <code>sonar-runner</code> 可以完成项目的扫描和上传报告  </p>
</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://zhuanlan.zhihu.com/p/22926742" target="_blank" rel="external">https://zhuanlan.zhihu.com/p/22926742</a><br><a href="http://blog.csdn.net/xiajian2010/article/details/22983825" target="_blank" rel="external">http://blog.csdn.net/xiajian2010/article/details/22983825</a><br><a href="http://www.cnblogs.com/parryyang/p/6270402.html" target="_blank" rel="external">http://www.cnblogs.com/parryyang/p/6270402.html</a></p>
]]></content:encoded>
      
      <comments>http://yoursite.com/2017/08/17/sonar%E6%9C%AC%E5%9C%B0%E9%85%8D%E7%BD%AE/#disqus_thread</comments>
    </item>
    
    <item>
      <title>我的第一篇博客</title>
      <link>http://yoursite.com/2017/08/17/firstblog/</link>
      <guid>http://yoursite.com/2017/08/17/firstblog/</guid>
      <pubDate>Thu, 17 Aug 2017 06:56:25 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;Hexo-搭建&quot;&gt;&lt;a href=&quot;#Hexo-搭建&quot; class=&quot;headerlink&quot; title=&quot;Hexo 搭建&quot;&gt;&lt;/a&gt;Hexo 搭建&lt;/h2&gt;&lt;h3 id=&quot;GitHub-设置&quot;&gt;&lt;a href=&quot;#GitHub-设置&quot; class=&quot;header
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="Hexo-搭建"><a href="#Hexo-搭建" class="headerlink" title="Hexo 搭建"></a>Hexo 搭建</h2><h3 id="GitHub-设置"><a href="#GitHub-设置" class="headerlink" title="GitHub 设置"></a>GitHub 设置</h3><p>   创建新的仓库  <code>yourname.github.io</code><br>   <code>yourname</code> 就是你github的名字<br>   GitHub 设置</p>
<h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><p>   <a href="http://www.jianshu.com/p/b8dd1e3e0255" target="_blank" rel="external">http://www.jianshu.com/p/b8dd1e3e0255</a></p>
<hr>
<h3 id="参考地址"><a href="#参考地址" class="headerlink" title="参考地址"></a>参考地址</h3><p>   <a href="https://linghucong.js.org/2016/04/15/2016-04-15-hexo-github-pages-blog/" target="_blank" rel="external">https://linghucong.js.org/2016/04/15/2016-04-15-hexo-github-pages-blog/</a></p>
]]></content:encoded>
      
      <comments>http://yoursite.com/2017/08/17/firstblog/#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
